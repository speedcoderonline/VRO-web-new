extends ../index

//- block pageStatus
//- 	- var signedOutPage = true;

block mainContent

	//- .signed-out-header-background

	.main-wrapper

		h1 Klasspokalen
		p Senast uppdaterat 2019-05-06

		.scoreboard#scoreboard
			//- .participant
			//- 	.name 1 na18d
			//- 	.line
			//- 	.points 1095
			//- .participant
			//- 	.name 2 na18c
			//- 	.line
			//- 	.points 964
			//- .participant
			//- 	.name 3 na18b
			//- 	.line
			//- 	.points 888

		.under-text-wrapper
			.under-text Vill du läsa det officiella reglementet för klasspokalen?
			a.rules-link(href="https://drive.google.com/file/d/1-Cjgwvyiv3VmGLpr-DT6qQuX8Ouic9Nm/view") Tryck här!


	script.
		var participants = [
			{
				name:"na21c",
				points:"983"
			},
			{
				name:"na19b",
				points:"917"
			},
			{
				name:"na21b",
				points:"894"
			},
			{
				name:"na19a",
				points:"874"
			},
			{
				name:"ek21b",
				points:"731"
			},
			{
				name:"na19c",
				points:"714"
			},
			{
				name:"na19d",
				points:"599"
			},
			{
				name:"na21d",
				points:"587"
			},
			{
				name:"sb21",
				points:"581"
			},
			{
				name:"ek21a",
				points:"564"
			},
			
			{
				name:"na21a",
				points:"400"
			},
			
			{
				name:"ek19a",
				points:"108"
			},
			{
				name:"sb19",
				points:"90"
			},
			{
				name:"na20d",
				points:"58"
			},
			{
				name:"na20a",
				points:"57"
			},
			{
				name:"na20b",
				points:"56"
			},
			{
				name:"sb20",
				points:"51"
			},
			{
				name:"ek19b",
				points:"33"
			},
			{
				name:"na20c",
				points:"31"
			},
			{
				name:"ek20",
				points:"18"
			},
		]

		function generateScoreBoard(){
			var highScore = participants[0].points
			participants.forEach(function(schoolClass){
				var participant = document.createElement('div')
				participant.classList.add('participant')
				var name = document.createElement('div')
				name.classList.add('name')
				name.innerHTML = schoolClass.name
				var line = document.createElement('div')
				line.classList.add('line')
				var lineWidth = schoolClass.points / highScore * 100;
				var lineWidthOverflow = 140 * schoolClass.points / highScore;
				line.style.width = 'calc(' + `${lineWidth}% - ${lineWidthOverflow}px`
				var points = document.createElement('div')
				points.classList.add('points')
				points.innerHTML = schoolClass.points

				participant.appendChild(name)
				participant.appendChild(line)
				participant.appendChild(points)

				_('scoreboard').appendChild(participant)
			})
		}

		generateScoreBoard()